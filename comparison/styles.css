/* ======================================================= */
/* 15. æ ¡ç³»å°æ¯”é é¢å°ˆå±¬æ¨£å¼ */
/* ======================================================= */

#comparison-page {
    display: flex;
    flex-direction: column;
    align-items: center;
    padding: 20px;
    transition: all 0.6s cubic-bezier(0.165, 0.84, 0.44, 1);
}

/* --- æœå°‹å€åŸŸçš„å…©ç¨®ç‹€æ…‹ --- */

.search-section {
    width: 100%;
    max-width: 600px;
    transition: all 0.6s cubic-bezier(0.165, 0.84, 0.44, 1);
    z-index: 100;
}

/* åˆå§‹ç‹€æ…‹ï¼šåœ¨æ­£ä¸­å¤® */
#comparison-page.initial-state .search-section {
    margin-top: 30vh;
}

/* å•Ÿç”¨ç‹€æ…‹ï¼šç§»åˆ°ä¸Šæ–¹ */
#comparison-page.active-state .search-section {
    margin-top: 20px;
    max-width: 800px; /* æœå°‹æ™‚æ‹‰å¯¬ä¸€é» */
}

.search-input-wrapper {
    position: relative;
    background: white;
    padding: 5px;
    border-radius: 50px;
    box-shadow: 0 10px 30px rgba(0,0,0,0.1);
    display: flex;
    align-items: center;
    border: 2px solid transparent;
    transition: border 0.3s;
}

.search-input-wrapper:focus-within {
    border-color: #4CAF50;
}

#comparison-search {
    width: 100%;
    padding: 15px 25px;
    border: none;
    outline: none;
    font-size: 18px;
    border-radius: 50px;
}

/* --- çµæœè¡Œæ¨£å¼ --- */

.results-container {
    width: 100%;
    max-width: 1000px;
    margin-top: 40px;
    opacity: 0;
    transform: translateY(20px);
    transition: all 0.5s ease;
}

#comparison-page.active-state .results-container {
    opacity: 1;
    transform: translateY(0);
}

/* å¡ç‰‡æ•´é«” */
.comparison-row {
    background: #fff;
    border-radius: 16px;
    box-shadow: 0 4px 15px rgba(0,0,0,0.05);
    margin-bottom: 24px;
    border: 1px solid #f0f0f0;
    overflow: hidden;
    display: flex;
    flex-direction: column;
}

/* ä¸ŠåŠéƒ¨ï¼š115 è³‡è¨Š */
.card-main {
    padding: 20px 25px 10px 25px;
}

.dept-header {
    display: flex;
    justify-content: space-between;
    align-items: flex-start;
    margin-bottom: 10px;
}

.uni-name { font-size: 13px; color: #888; display: block; margin-bottom: 2px; }
.dept-name { font-size: 20px; font-weight: 800; color: #333; }

.current-year-badge {
    background: #e8f5e9;
    color: #2e7d32;
    padding: 4px 10px;
    border-radius: 6px;
    font-size: 11px;
    font-weight: bold;
}

/* 115 æ¨™æº–å±•ç¤º */
.current-standards {
    display: flex;
    gap: 30px;
}

.std-section label {
    display: block;
    font-size: 13px;
    color: #bbb;
    font-weight: bold;
    margin-bottom: 6px;
    text-transform: uppercase;
}

.pills-wrapper {
    display: flex;
    flex-wrap: wrap;
    gap: 6px;
}

.gsat-pill, .weight-pill {
    padding: 4px 10px;
    border-radius: 6px;
    font-size: 15px;
    font-weight: 600;
    border: 1px solid transparent;
}

.gsat-pill { background: #f1f5f9; color: #475569; border-color: #e2e8f0; }
.weight-pill { background: #fff9db; color: #f08c00; border-color: #fff3bf; }

/* ä¸‹åŠéƒ¨ï¼šå¾€å¹´è¼”åŠ©è³‡è¨Š */
.card-footer {
    background: #f8fafc;
    border-top: 1px dashed #e2e8f0;
    padding: 10px 25px;
    display: flex;
    align-items: center;
    gap: 15px;
}

.footer-label { font-size: 11px; color: #94a3b8; font-weight: bold; }

.history-tags-container {
    display: flex;
    align-items: center;
    gap: 15px;
}

.history-tag {
    font-size: 13px;
    display: flex;
    gap: 6px;
}

.h-year { color: #94a3b8; font-weight: 500; }
.m-score { font-weight: 700; color: #334155; }
.m-ratio { color: #64748b; font-size: 12px; }

.h-divider {
    width: 1px;
    height: 14px;
    background: #e2e8f0;
}

/* ä¿®æ”¹æ­·å²è³‡æ–™å€å¡Šå®¹å™¨ */
.card-history-section {
    background: #fcfcfc;
    border-top: 1px solid #f0f0f0;
    padding: 12px 25px;
}

.history-grid-wrapper {
    display: flex;
    gap: 30px; /* 114å¹´èˆ‡113å¹´çš„é–“è· */
    -webkit-overflow-scrolling: touch;
    overflow-x: auto; /* å…§å®¹è¶…å‡ºæ™‚é¡¯ç¤ºæ²è»¸ */
}

.history-grid-wrapper::-webkit-scrollbar {
    height: 0px;
}

.history-block {
    flex-shrink: 0;
    /* flex: 1; */
    display: flex;
    flex-direction: column;
    gap: 4px;
}

/* æ­·å²è³‡æ–™ç¬¬ä¸€è¡Œï¼šå¹´ä»½ã€äººæ•¸ã€åˆ†æ•¸ */
.h-top-line {
    display: flex;
    align-items: center;
    gap: 10px;
    font-size: 13px;
}

.h-year {
    font-weight: 800;
    color: #abb8c3;
    min-width: 40px;
}

.h-admitted {
    color: #666;
    background: #f0f0f0;
    padding: 1px 6px;
    border-radius: 4px;
    font-size: 11px;
}

.h-score {
    font-weight: 700;
    color: #444;
}

.h-score small {
    font-weight: normal;
    color: #999;
    margin-left: 4px;
}

/* æ­·å²è³‡æ–™ç¬¬äºŒè¡Œï¼šç§‘ç›®å€æ•¸ (ç”¨æ›´å°çš„å­—é«”èˆ‡æ·±ç°è‰²) */
.h-weights {
    font-size: 11px;
    color: #888;
    letter-spacing: 0.5px;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}

/* æ²’è³‡æ–™æ™‚çš„æ¨£å¼ */
.no-data {
    color: #a3a3a3;
    font-size: 12px;
}

/* æ‰‹æ©Ÿç‰ˆé©é… */
@media (max-width: 600px) {
    /* .history-grid-wrapper {
        flex-direction: column;
        gap: 12px;
    }
    .h-weights {
        white-space: normal;
    } */
}

/* æ‰‹æ©Ÿç‰ˆé©é…ï¼šå°‡ä»Šå¹´æ¨™æº–æ”¹ç‚ºå‚ç›´ */
@media (max-width: 600px) {
    .current-standards { flex-direction: column; gap: 15px; }
    .card-footer { flex-direction: column; align-items: flex-start; gap: 8px; }
    .h-divider { display: none; }
}

.year-label { font-size: 11px; color: #aaa; display: block; }
.year-data { font-size: 14px; color: #333; font-weight: 500; }

@keyframes slideInUp {
    from { opacity: 0; transform: translateY(20px); }
    to { opacity: 1; transform: translateY(0); }
}

/* ======================================================= */
/* 17. è–„è·é¼ å°¾è‰ (#76bfa2) å°ˆå±¬è‰²ç³»æ–¹æ¡ˆ */
/* ======================================================= */

:root {
    --sage-primary: #76bfa2;        /* æ ¸å¿ƒè‰²ï¼šè–„è·é¼ å°¾è‰ */
    --sage-light: #eef7f4;          /* èƒŒæ™¯èˆ‡æ¨™ç±¤ï¼šæ¥µæ·ºè–„è· */
    --sage-medium: #b8dccf;         /* è¼”åŠ©é‚Šæ¡†ï¼šç²‰ç¶  */
    --sage-dark: #3d6b59;           /* å¼·èª¿æ–‡å­—ï¼šæ·±æ£®æ—ç¶  */
    --bg-white: #ffffff;
    --card-shadow: rgba(118, 191, 162, 0.12); /* åŸºæ–¼ä¸»è‰²çš„æŸ”å’Œé™°å½± */
}

/* ç¶²é æ•´é«”èƒŒæ™¯ */
body {
    font-family: 'Inter', 'Helvetica Neue', Arial, sans-serif; /* å‡è¨­ä½¿ç”¨ Inter æˆ–ç³»çµ±ç„¡è¥¯ç·šå­—é«” */
    background-color: #f7f7f7; 
    color: #444;
}

/* --- æœå°‹æ¡†å„ªåŒ– --- */
.search-input-wrapper {
    border: 2px solid var(--sage-light);
    box-shadow: 0 8px 25px var(--card-shadow);
}

.search-input-wrapper:focus-within {
    border-color: var(--sage-primary);
}

/* --- æ ¡ç³»å¡ç‰‡æ¨£å¼ --- */
.comparison-row {
    background: var(--bg-white);
    border: 1px solid var(--sage-light);
    box-shadow: 0 4px 12px var(--card-shadow);
    border-radius: 16px;
    overflow: hidden;
    transition: all 0.3s ease;
}

.comparison-row:hover {
    transform: translateY(-4px);
    box-shadow: 0 12px 24px rgba(118, 191, 162, 0.2);
}

/* 115 æ‹›ç”Ÿæ¨™ç±¤ï¼šç™½å­—é…ä¸»è‰² */
.current-year-badge {
    background-color: var(--sage-primary);
    color: white;
    padding: 4px 12px;
    border-radius: 6px;
    font-size: 11px;
    font-weight: bold;
}

/* å­¸æ¸¬æ¨™ç±¤ï¼šæ·ºç¶ åº•æ·±ç¶ å­— */
.gsat-pill {
    background: var(--sage-light);
    color: var(--sage-dark);
    border: 1px solid var(--sage-medium);
}

/* åŠ æ¬Šæ¨™ç±¤ï¼šç™½åº•ä¸»è‰²æ¡† */
.weight-pill {
    padding: 4px 0;
    background: white;
    color: var(--sage-dark);
    border: 0;
    border-radius: 0;
    display: inline-block; /* ç¢ºä¿ margin å±¬æ€§å¯ä»¥æ­£ç¢ºæ‡‰ç”¨ */
}

/* --- å¾€å¹´åƒè€ƒå€å¡Š --- */
.card-history-section {
    background: #fdfdfd; /* ä¿æŒè¼•ç›ˆ */
    border-top: 1px dashed var(--sage-medium);
    padding: 15px 25px;
}

.h-year {
    color: #777f8a;
    font-weight: 800;
}

.h-admitted {
    background: var(--sage-light);
    color: var(--sage-dark);
    font-weight: bold;
}

.h-score {
    color: var(--sage-dark);
}

.h-weights {
    color: #7a8a84; /* å¸¶ä¸€é»ç¶ èª¿çš„ç° */
}

.data-separator {
    color: #cccccc; /* æ¥µæ·ºç°è‰²ï¼ŒæŸ”å’Œåˆ†éš”ç·š */
    font-size: 1.5em; /* èˆ‡å‘¨åœæ–‡å­—å¤§å°ç›¸åŒ */
    font-weight: 300; /* è¼•å­—é‡ï¼Œé™ä½å­˜åœ¨æ„Ÿ */
    height: 100%;
    margin: 0 3px;   /* ğŸŒŸ æ ¸å¿ƒé–“è·ï¼šå·¦å³å„ 8px å‰µé€ å‘¼å¸ç©ºé–“ */
    display: inline-block; /* ç¢ºä¿ margin å±¬æ€§å¯ä»¥æ­£ç¢ºæ‡‰ç”¨ */
    /* ç§»é™¤ data-tag ä¸Šçš„ margin-right é¿å…éå¤§çš„é–“éš” */
}

.weight-strong {
    color: #77BFA2;
    font-weight: 700;
}

/* --- èªªæ˜æ¡†æ¨£å¼ --- */
.search-description {
    margin-top: 25px;
    padding: 20px;
    background: var(--sage-light); /* ä½¿ç”¨è–„è·é¼ å°¾è‰æ·ºè‰² */
    border-radius: 12px;
    border: 1px solid var(--sage-medium);
    color: var(--sage-dark);
    max-width: 500px;
    margin-left: auto;
    margin-right: auto;
    
    /* å‹•æ…‹éæ¸¡æ•ˆæœ */
    transition: all 0.5s cubic-bezier(0.165, 0.84, 0.44, 1);
    opacity: 1;
    transform: translateY(0);
    overflow: hidden;
}

.search-description .info-title {
    font-weight: bold;
    margin-bottom: 10px;
    display: flex;
    align-items: center;
    gap: 8px;
}

/* .search-description ul {
    margin: 0;
    padding-left: 20px;
    font-size: 14px;
    line-height: 1.6;
} */

.search-description p {
    /* margin-bottom: 5px; */
    padding-left: 5px;
    border-left: 3px solid var(--sage-primary);
    font-size: 14px;
    margin-top: 11px;
    margin-bottom: 11px;
}

/* --- ç•¶ç‹€æ…‹è®Šç‚º active (æœå°‹ä¸­) æ™‚æ¶ˆå¤± --- */
#comparison-page.active-state .search-description {
    opacity: 0;
    transform: translateY(-20px); /* å¾€ä¸Šä½ç§»ä¸€é» */
    max-height: 0;
    margin-top: 0;
    padding-top: 0;
    padding-bottom: 0;
    pointer-events: none; /* ç¢ºä¿æ¶ˆå¤±å¾Œä¸æœƒè¢«é»æ“Šåˆ° */
}

.link {
    color: rgb(122, 139, 131);
    cursor: pointer;
    text-decoration: underline;
}

/* ======================================================= */
/* 18. Filter Island ç¯©é¸å³¶æ¨£å¼ */
/* ======================================================= */

#filter-island-container {
    position: fixed;
    bottom: 30px;
    left: 50%;
    transform: translateX(-50%);
    z-index: 2000;
    transition: all 0.5s cubic-bezier(0.165, 0.84, 0.44, 1);
}


.filter-hint {
    font-size: 12px;
    font-weight: bold;
    color: var(--sage-dark);
    white-space: nowrap;
    border-right: 1px solid var(--sage-medium);
    padding-right: 12px;
}

/* ç§»é™¤æ²è»¸é¡¯ç¤º */
.filter-subjects::-webkit-scrollbar { display: none; }

.filter-item {
    padding: 4px 12px;
    font-size: 12px;
    font-weight: 500;
    border-radius: 20px;
    cursor: pointer;
    background: white;
    color: #888;
    border: 1px solid #eee;
    transition: all 0.2s;
    white-space: nowrap;
    user-select: none;
}

.filter-island {
    background: rgba(255, 255, 255, 0.9);
    backdrop-filter: blur(20px);
    border: 1px solid var(--sage-medium);
    border-radius: 28px; /* ç¨å¾®æ¸›å°‘åœ“è§’è®“å®ƒæ›´æœ‰æ´—éŠæ„Ÿ */
    padding: 12px 20px;
    display: flex;
    flex-direction: column; /* å‚ç›´æ’åˆ—å…©æ’ */
    gap: 10px;
    box-shadow: 0 15px 45px rgba(118, 191, 162, 0.25);
    width: max-content;
    max-width: 90vw;
}

.filter-row {
    display: flex;
    align-items: center;
    gap: 12px;
}

.filter-label {
    font-size: 11px;
    font-weight: 900;
    color: var(--sage-primary);
    background: var(--sage-light);
    padding: 2px 8px;
    border-radius: 4px;
    white-space: nowrap;
    text-transform: uppercase;
    letter-spacing: 1px;
}

.filter-subjects {
    display: flex;
    gap: 6px;
    padding: 4px;
    overflow-x: auto;
}

/* å…©æ’ä¹‹é–“çš„ç´°ç·š */
.filter-divider {
    height: 1px;
    background: linear-gradient(90deg, transparent, var(--sage-medium), transparent);
    width: 100%;
    opacity: 0.5;
}

/* ä¸‰ç¨®ç‹€æ…‹çš„æ¨£å¼ */
/* 1. å¿…é¸ (Include) */
.filter-item.include {
    background: var(--sage-primary);
    color: white;
    border-color: var(--sage-primary);
}
/* .filter-item.include::before { content: ""; } */

/* 2. æ’é™¤ (Exclude) */
.filter-item.exclude {
    background: #ff7675; /* æŸ”å’Œçš„ç´… */
    color: white;
    border-color: #ff7675;
}
/* .filter-item.exclude::before { content: "âœ• "; } */

/* æ‡¸æµ®ç¸®æ”¾ */
.filter-item:hover { transform: scale(1.05); }

@media (max-width: 600px) {
    #filter-island-container {
        bottom: 0;
    }

    .filter-island {
        border-radius: 0;
    }
}

#you-cant-see-me {
    color: #f7f7f7;
    height: 120px;
}

/* å¡ç‰‡æ·¡å…¥å‹•ç•« */
@keyframes fadeInCard {
    from { opacity: 0; transform: translateY(15px); }
    to { opacity: 1; transform: translateY(0); }
}

.comparison-row {
    animation: fadeInCard 0.4s ease forwards;
    /* æ•ˆèƒ½å„ªåŒ–ï¼šè®“ç€è¦½å™¨çŸ¥é“é€™å€‹å…ƒç´ ä¸æœƒå½±éŸ¿å¤–éƒ¨ä½ˆå±€ */
    contain: content; 
}

/* è®“æ²è»¸æ›´æ»‘é † */
html {
    scroll-behavior: smooth;
}

/* --- è·³è½‰åœ–ç¤ºæ¨£å¼ --- */
.history-grid-wrapper .card-main {
    position: relative; 
}

.history-grid-wrapper {
    padding-right: 40px;
}

.to-uac-button {
    border: none;
    background-color: #33333300;
}

.jump-link {
    position: absolute;
    right: 20px;
    width: 34px;
    height: 35px;
    margin-left: 0;
    display: flex;
    align-items: center;
    justify-content: center;
    color: var(--sage-medium); /* é è¨­ä½¿ç”¨è¼ƒæ·¡çš„ç¶  */
    border-radius: 8px;
    transition: all 0.2s ease;
    text-decoration: none;
    z-index: 10;
}

.jump-link svg {
    width: 18px;
    height: 18px;
}

.jump-link:hover {
    background-color: var(--sage-light); /* æ·ºè‰²åº• */
    color: var(--sage-primary); /* æ·±è‰²åœ–ç¤º */
    transform: scale(1.1);
}

/* ä¿®æ­£æ¨™é¡Œå€åŸŸä¸è¦è¢«åœ–ç¤ºæ“‹åˆ° */
.dept-header {
    padding-right: 40px; 
}